{
  "documents": [
    {
      "id": "modes",
      "title": "Session Modes",
      "tags": "focusgroup modes sessions",
      "content": "Session Modes Focusgroup offers three session modes that control how agents interact and provide feedback. Choose the mode that best fits your evaluation goals. Overview Mode Agents See Each Other Rounds Best For single No 1 Quick checks, specific questions discussion Yes Multiple Debates, exploring tradeoffs structured Yes (within phases) 4 phases Comprehensive evaluations Single Mode The simplest mode: all agents answer independently, without seeing each other's responses. [session] mode = &quot;single&quot; How It Works Focusgroup captures the tool's help output Each agent receives the help text + your question All agents respond independently (optionally in parallel) Responses are collected and displayed When to Use Quick sanity checks Gathering independent perspectives A/B testing different agent configurations Simple, focused questions Example [session] name = &quot;quick-check&quot; mode = &quot;single&quot; moderator = false [tool] command = &quot;git&quot; [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; [[agents]] provider = &quot;openai&quot; mode = &quot;api&quot; model = &quot;gpt-4o&quot; [questions] rounds = [ &quot;What's the most confusing aspect of this tool's help output?&quot;, ] Discussion Mode Agents can see and respond to each other, enabling debate and collaborative exploration. [session] mode = &quot;discussion&quot; How It Works Round 1: All agents respond to the initial question Round 2+: Agents see previous responses and can build on, agree with, or challenge them Moderator (optional): Synthesizes the discussion at the end When to Use Exploring tradeoffs between approaches When you want agents to challenge each other Building consensus on complex issues Getting nuanced, multi-perspective analysis Example [session] name = &quot;design-discussion&quot; mode = &quot;discussion&quot; moderator = true [tool] command = &quot;mytool&quot; [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; name = &quot;UX-Advocate&quot; system_prompt = &quot;Prioritize user experience and ergonomics.&quot; [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; name = &quot;Minimalist&quot; system_prompt = &quot;Advocate for simplicity and fewer options.&quot; [[agents]] provider = &quot;openai&quot; mode = &quot;api&quot; name = &quot;Power-User&quot; system_prompt = &quot;Represent users who want advanced features.&quot; [questions] rounds = [ &quot;What's your initial take on this tool's design?&quot;, &quot;Given the other perspectives, what tradeoffs should we prioritize?&quot;, &quot;Can we reach consensus on the top 3 improvements?&quot;, ] Structured Mode Guided feedback through four distinct phases, ensuring comprehensive and organized evaluation. [session] mode = &quot;structured&quot; The Four Phases Explore - Initial impressions and understanding What does this tool do? How does it fit into workflows? First impressions of the interface Critique - Issues, concerns, and problems What's confusing or unclear? What could cause errors? What's missing? Suggest - Recommendations and improvements Specific changes to make New features to add Documentation improvements Synthesize - Final summary and conclusions Key takeaways Priority recommendations Overall assessment How It Works All agents go through each phase in sequence Within each phase, agents see each other's responses (if running sequentially) Phase context accumulates—later phases build on earlier insights Moderator (recommended) provides final synthesis When to Use Comprehensive tool evaluations Generating structured feedback reports When you need organized, actionable feedback Formal design reviews Example [session] name = &quot;full-review&quot; mode = &quot;structured&quot; moderator = true [tool] command = &quot;memex&quot; [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; name = &quot;Claude-Sonnet&quot; model = &quot;claude-sonnet-4-20250514&quot; [[agents]] provider = &quot;openai&quot; mode = &quot;api&quot; name = &quot;GPT-4o&quot; model = &quot;gpt-4o&quot; [[agents]] provider = &quot;claude&quot; mode = &quot;cli&quot; name = &quot;Claude-CLI&quot; [questions] rounds = [ &quot;Evaluate this knowledge base CLI tool for AI agent use.&quot;, ] [output] format = &quot;markdown&quot; save_log = true Moderator Any mode can include a moderator that synthesizes all feedback: [session] moderator = true # Optional: customize the moderator [session.moderator_agent] provider = &quot;claude&quot; mode = &quot;api&quot; model = &quot;claude-opus-4-20250514&quot; The moderator: Identifies common themes across agents Highlights unique insights Notes disagreements and tensions Provides prioritized recommendations Choosing a Mode ┌─────────────────────────────────────────────────────────────┐ │ What do you need? │ ├─────────────────────────────────────────────────────────────┤ │ │ │ Quick answer to a specific question? │ │ └─→ single mode │ │ │ │ Explore tradeoffs or get debate? │ │ └─→ discussion mode │ │ │ │ Comprehensive, structured evaluation? │ │ └─→ structured mode │ │ │ │ Any mode + want a summary? │ │ └─→ Enable moderator = true │ │ │ └─────────────────────────────────────────────────────────────┘ See also: configuration for full config reference, exploration for letting agents run the tool. Parallel vs Sequential Within any mode, you can control whether agents run in parallel: [session] parallel_agents = true # Default: faster, independent responses parallel_agents = false # Sequential: each agent sees prior responses Parallel (default): Faster execution, independent perspectives Sequential : Agents build on each other, more conversational"
    },
    {
      "id": "configuration",
      "title": "Configuration Reference",
      "tags": "focusgroup configuration reference",
      "content": "Configuration Reference Focusgroup uses TOML configuration files for full session control. This document describes all available options. Complete Example [session] name = &quot;my-review&quot; mode = &quot;structured&quot; # single | discussion | structured moderator = true # Enable synthesis at the end parallel_agents = true # Query agents concurrently exploration = false # Let agents run the tool [session.moderator_agent] # Optional: customize the moderator provider = &quot;claude&quot; mode = &quot;api&quot; model = &quot;claude-sonnet-4-20250514&quot; [tool] type = &quot;cli&quot; # cli | docs command = &quot;mytool&quot; # Command name or path help_args = [&quot;--help&quot;] # Args to get help output working_dir = &quot;/path/to/dir&quot; # Optional working directory [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; model = &quot;claude-sonnet-4-20250514&quot; name = &quot;Claude-Sonnet&quot; system_prompt = &quot;You are a DevOps engineer...&quot; exploration = false # Per-agent exploration override [[agents]] provider = &quot;openai&quot; mode = &quot;api&quot; model = &quot;gpt-4o&quot; name = &quot;GPT-4o&quot; [questions] rounds = [ &quot;What's your first impression of this tool?&quot;, &quot;What improvements would you suggest?&quot;, ] [output] format = &quot;markdown&quot; # json | markdown | text directory = &quot;./output&quot; # Where to save files save_log = true # Persist session log Section Reference [session] Controls overall session behavior. Field Type Default Description name string auto-generated Session identifier mode string &quot;single&quot; Session mode: single , discussion , or structured (see modes ) moderator bool false Enable a moderator agent to synthesize feedback parallel_agents bool true Query agents concurrently vs sequentially exploration bool false Allow agents to run tool commands (see exploration ) agent_timeout integer none Timeout in seconds for all agents (overrides defaults) [session.moderator_agent] Optional custom configuration for the moderator. If omitted, uses Claude API with default synthesis prompt. Field Type Default Description provider string &quot;claude&quot; claude , openai , or codex mode string &quot;api&quot; api or cli model string provider default Specific model to use [tool] Specifies the tool being evaluated. Field Type Default Description type string &quot;cli&quot; Tool type: cli or docs command string required CLI command name or path to docs help_args array [&quot;--help&quot;] Arguments to get help output working_dir string current dir Working directory for tool execution path_additions array [] Additional directories to add to PATH for agents [[agents]] Define one or more agents. At least one agent is required. Field Type Default Description provider string required claude , codex , or custom provider name (see providers ) model string provider default Specific model to use name string auto-generated Display name for this agent system_prompt string none Custom system prompt for this agent exploration bool false Enable tool exploration for this agent timeout integer none Agent timeout in seconds (overrides session default) [questions] Define the questions/prompts for the session. Field Type Default Description rounds array required List of questions (at least one) In single mode, only the first question is used. In discussion and structured modes, agents see all questions in sequence. [output] Configure session output. Field Type Default Description format string &quot;text&quot; Output format: json , markdown , or text directory string none Directory to save output files save_log bool true Whether to save session log for later review Minimal Config The smallest valid config: [tool] command = &quot;git&quot; [[agents]] provider = &quot;claude&quot; [questions] rounds = [&quot;What do you think of this tool?&quot;] Built-in Providers Provider Description Notes claude Anthropic Claude via claude CLI Requires claude CLI installed and authenticated codex OpenAI Codex via codex CLI Requires codex CLI installed Custom Providers You can define custom providers in ~/.config/focusgroup/providers.toml : [myagent] name = &quot;My Custom Agent&quot; command = &quot;my-agent-cli&quot; prompt_arg = &quot;--prompt&quot; # How to pass the prompt context_arg = &quot;--context&quot; # How to pass context (optional) model_arg = &quot;--model&quot; # How to specify model (optional) description = &quot;My custom CLI agent&quot; Then use in configs: [[agents]] provider = &quot;myagent&quot; name = &quot;Custom Agent&quot; Model Defaults When model is not specified: claude : Uses claude CLI's default model codex : Uses codex CLI's default model Custom providers: Use their CLI defaults"
    },
    {
      "id": "providers",
      "title": "Agent Providers Guide",
      "tags": "focusgroup providers agents",
      "content": "Agent Providers Guide Focusgroup supports multiple LLM providers, each with API and/or CLI modes. This guide covers setup and best practices for each. Overview Provider API Mode CLI Mode Best For Claude (Anthropic) Yes Yes General feedback, nuanced analysis OpenAI Yes No Alternative perspective, GPT-4o capabilities Codex (OpenAI) No Yes Code-focused feedback, authentic CLI behavior Claude (Anthropic) API Mode Direct API calls to Anthropic's Claude models. Setup: export ANTHROPIC_API_KEY=&quot;sk-ant-...&quot; Config: [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; model = &quot;claude-sonnet-4-20250514&quot; # or claude-opus-4-20250514 name = &quot;Claude-Sonnet&quot; Available Models: claude-sonnet-4-20250514 (default) - Fast, capable, cost-effective claude-opus-4-20250514 - Most capable, higher cost CLI Mode Invokes the actual claude CLI tool, providing authentic agent behavior. Setup: # Install Claude Code CLI # See: https://docs.anthropic.com/claude-code # Authenticate claude auth login Config: [[agents]] provider = &quot;claude&quot; mode = &quot;cli&quot; name = &quot;Claude-CLI&quot; When to use CLI mode: Testing how agents actually interact with tools Getting feedback that reflects real-world agent usage When you want the agent to use its full toolset (file reading, web access, etc.) OpenAI API Mode Direct API calls to OpenAI's GPT models. Setup: export OPENAI_API_KEY=&quot;sk-...&quot; Config: [[agents]] provider = &quot;openai&quot; mode = &quot;api&quot; model = &quot;gpt-4o&quot; name = &quot;GPT-4o&quot; Available Models: gpt-4o (default) - Latest multimodal model gpt-4o-mini - Faster, lower cost gpt-4-turbo - Previous generation Notes: OpenAI does not have CLI mode in focusgroup System prompts are fully supported Codex CLI Mode Invokes the OpenAI Codex CLI for code-focused feedback. Setup: # Install Codex CLI # See OpenAI's codex documentation # Authenticate codex auth Config: [[agents]] provider = &quot;codex&quot; mode = &quot;cli&quot; name = &quot;Codex&quot; When to use Codex: Getting code-focused feedback Testing CLI tools that agents interact with programmatically When you want an OpenAI-based CLI agent perspective Mixing Providers A key strength of focusgroup is combining multiple providers for diverse perspectives: [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; name = &quot;Claude-API&quot; system_prompt = &quot;Focus on UX and ergonomics.&quot; [[agents]] provider = &quot;openai&quot; mode = &quot;api&quot; model = &quot;gpt-4o&quot; name = &quot;GPT-4o&quot; system_prompt = &quot;Focus on correctness and edge cases.&quot; [[agents]] provider = &quot;claude&quot; mode = &quot;cli&quot; name = &quot;Claude-CLI&quot; # No system prompt - uses authentic CLI behavior [[agents]] provider = &quot;codex&quot; mode = &quot;cli&quot; name = &quot;Codex&quot; # Code-focused perspective API vs CLI Mode Aspect API Mode CLI Mode Speed Faster (direct calls) Slower (subprocess) Control Full control (system prompts, params) Limited (CLI defaults) Authenticity Controlled environment Real agent behavior Cost Pay per token Depends on CLI pricing Exploration Limited Full tool access Recommendation: Use API mode for controlled experiments and CLI mode when you want to test authentic agent interactions. System Prompts Customize agent perspectives with system prompts: [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; name = &quot;DevOps-Engineer&quot; system_prompt = &quot;&quot;&quot;You are an experienced DevOps engineer who values: - Reliability and operational simplicity - Clear error messages and debugging support - Consistent behavior across environments Focus on operational concerns when evaluating this tool.&quot;&quot;&quot; [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; name = &quot;Junior-Developer&quot; system_prompt = &quot;&quot;&quot;You are a junior developer who is: - Still learning CLI conventions - Easily confused by complex options - Appreciative of good documentation and examples Evaluate this tool from a beginner's perspective.&quot;&quot;&quot; See also: configuration for full config options, exploration for letting agents run tools. Troubleshooting Claude API Issues # Verify API key is set echo $ANTHROPIC_API_KEY # Test directly curl https://api.anthropic.com/v1/messages \\ -H &quot;x-api-key: $ANTHROPIC_API_KEY&quot; \\ -H &quot;anthropic-version: 2023-06-01&quot; \\ -d '{&quot;model&quot;:&quot;claude-sonnet-4-20250514&quot;,&quot;max_tokens&quot;:10,&quot;messages&quot;:[{&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:&quot;Hi&quot;}]}' OpenAI API Issues # Verify API key echo $OPENAI_API_KEY # Test directly curl https://api.openai.com/v1/chat/completions \\ -H &quot;Authorization: Bearer $OPENAI_API_KEY&quot; \\ -d '{&quot;model&quot;:&quot;gpt-4o&quot;,&quot;messages&quot;:[{&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:&quot;Hi&quot;}]}' CLI Agent Issues # Verify Claude CLI claude --version claude &quot;Hello&quot; # Verify Codex CLI codex --version codex &quot;Hello&quot;"
    },
    {
      "id": "exploration",
      "title": "Exploration Mode",
      "tags": "focusgroup exploration security",
      "content": "Exploration Mode Exploration mode lets agents actually run the tool being evaluated, rather than just reading its help output. This provides more authentic feedback based on real interaction. Overview By default, focusgroup shows agents the tool's --help output and asks them to provide feedback. With exploration mode enabled, agents can: Run the tool with various arguments Explore subcommands Test edge cases Discover issues through actual use Enabling Exploration Via CLI focusgroup ask mx &quot;Try searching for deployment docs&quot; --explore Via Config [session] exploration = true # Enable for all agents # Or per-agent: [[agents]] provider = &quot;claude&quot; mode = &quot;cli&quot; exploration = true # Just this agent can explore How It Works Context Enhancement : Agents receive instructions on how to run the tool Tool Access : CLI-mode agents can execute the tool command Interactive Feedback : Agents explore, then report findings What Agents See With exploration enabled, agents receive additional context: ## Interactive Exploration **IMPORTANT**: You can and should run `mytool` commands to explore this tool before giving feedback! ### How to Explore 1. Try the basic help: mytool --help 2. Explore subcommands: mytool &lt;subcommand&gt; --help 3. Try common operations 4. Explore subcommands that interest you Requirements Exploration works best with CLI-mode agents (see providers for setup): Provider Mode Exploration Support Claude CLI Full support Codex CLI Full support Claude API Limited (no shell access) OpenAI API Limited (no shell access) Recommendation: Use CLI-mode agents for exploration. Example: Exploring a Search Tool [session] name = &quot;memex-exploration&quot; mode = &quot;single&quot; exploration = true moderator = true [tool] command = &quot;mx&quot; [[agents]] provider = &quot;claude&quot; mode = &quot;cli&quot; name = &quot;Explorer-1&quot; [[agents]] provider = &quot;codex&quot; mode = &quot;cli&quot; name = &quot;Explorer-2&quot; [questions] rounds = [ &quot;Explore this knowledge base tool. Try searching for various topics, then report what worked well and what was confusing.&quot;, ] Sample Session Output ## Explorer-1 (Claude-CLI) I explored the `mx` tool by running several commands: 1. `mx --help` - Good overview, clear subcommand list 2. `mx search &quot;deployment&quot;` - Found relevant docs quickly 3. `mx search &quot;nonexistent-topic&quot;` - Helpful &quot;no results&quot; message 4. `mx get docs/deployment.md` - Retrieved full content **What worked well:** - Search is fast and results are relevant - Error messages are clear **What was confusing:** - Unclear difference between `search` and `list` - No obvious way to see all available tags ## Explorer-2 (Codex-CLI) I tested the tool with various inputs: 1. Basic search worked well 2. Tried `mx add` but wasn't sure about required fields 3. `mx tree` gave a good overview of structure **Suggestions:** - Add examples to each subcommand's help - Show available tags in search results Security Considerations WARNING : Exploration mode grants agents significant system access. Read this section carefully before enabling exploration. What Permissions Are Granted CLI-mode agents run with relaxed permission controls to enable tool exploration: Provider Mode Permission Flags What This Means Claude CLI --dangerously-skip-permissions Bypasses all permission prompts; agent can run any command without approval Codex CLI (explore) --sandbox danger-full-access Removes sandbox restrictions; full filesystem and network access Codex CLI (no explore) --full-auto Standard Codex safety checks apply Claude/OpenAI API N/A No shell access; limited to API-only interactions What Agents Can Access With exploration mode enabled, CLI agents can: Filesystem : Read, write, and delete any files accessible to your user account Network : Make HTTP requests, download files, connect to services Shell Commands : Run arbitrary shell commands (git, curl, rm, etc.) Environment : Access environment variables, including secrets in your shell Other Tools : Invoke any CLI tools installed on your system Why These Permissions? Exploration mode exists to let agents actually use tools and give authentic feedback. An agent exploring a CLI tool needs to run that tool—which requires shell access. Sandbox restrictions would prevent agents from testing the very tool you want feedback on. This is a deliberate trade-off: useful exploration feedback requires real tool access . Recommendations 1. Run in Isolated Environments The safest approach is to run focusgroup exploration in an isolated environment: # Use a container docker run -it --rm -v $(pwd):/workspace myimage focusgroup ask mytool &quot;...&quot; --explore # Use a VM # Run focusgroup inside a disposable VM or devcontainer # Use a separate user account # Create a low-privilege account specifically for exploration 2. Review Tools Before Exploration Before enabling exploration for a tool: Understand what the tool can do (especially write operations) Check if the tool accesses sensitive data or services Consider using read-only tools first to test the setup 3. Limit What's in the Environment # Run with a clean environment to limit exposed secrets env -i PATH=&quot;$PATH&quot; HOME=&quot;$HOME&quot; focusgroup ask mytool &quot;...&quot; --explore # Or explicitly set only needed variables export MYTOOL_API_KEY=xxx # Only what's needed focusgroup ask mytool &quot;...&quot; --explore 4. Use API Mode for Untrusted Scenarios If you can't isolate the environment, use API-mode agents instead: [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; # No shell access, safer but can't explore API agents can still review documentation and help text, but cannot run commands. Risk Summary Scenario Risk Level Recommendation Exploring your own read-only tool in a dev container Low Safe to proceed Exploring any tool in a VM/container Low Safe to proceed Exploring read-only tools on your main system Medium Acceptable with caution Exploring write-capable tools on your main system High Use isolated environment Running exploration with sensitive secrets in env High Clean environment or container Future: Sandbox Level Control A --sandbox-level flag for granular control is planned but not yet implemented. For now, exploration mode is all-or-nothing with respect to permissions. Best Practices 1. Use Specific Questions # Good: Specific exploration task rounds = [&quot;Search for 'deployment' and 'API' topics, then compare the results&quot;] # Less effective: Vague request rounds = [&quot;Explore this tool&quot;] 2. Combine with Discussion Mode [session] mode = &quot;discussion&quot; exploration = true [questions] rounds = [ &quot;Each of you explore different aspects of this tool.&quot;, &quot;Share what you found. What patterns do you see?&quot;, &quot;Based on everyone's exploration, what should be prioritized?&quot;, ] 3. Use Moderator for Synthesis [session] exploration = true moderator = true # Synthesize exploration findings 4. Mix API and CLI Agents # CLI agents explore, API agents analyze [[agents]] provider = &quot;claude&quot; mode = &quot;cli&quot; name = &quot;Explorer&quot; exploration = true [[agents]] provider = &quot;claude&quot; mode = &quot;api&quot; name = &quot;Analyst&quot; system_prompt = &quot;Analyze the explorer's findings and suggest improvements.&quot; Troubleshooting Agent Can't Run Commands Ensure you're using CLI mode ( mode = &quot;cli&quot; ) Verify the CLI tool is installed ( claude --version , codex --version ) Check that the tool being evaluated is in PATH Exploration Too Slow Reduce number of agents Use parallel_agents = false to run sequentially Limit the scope of exploration in your question Agent Runs Wrong Commands Provide more specific instructions in your question Use working_dir to set the right directory Ensure tool name is clear and unambiguous"
    }
  ],
  "metadata": {
    "modes": {
      "title": "Session Modes",
      "tags": [
        "focusgroup",
        "modes",
        "sessions"
      ],
      "path": "modes.html"
    },
    "configuration": {
      "title": "Configuration Reference",
      "tags": [
        "focusgroup",
        "configuration",
        "reference"
      ],
      "path": "configuration.html"
    },
    "providers": {
      "title": "Agent Providers Guide",
      "tags": [
        "focusgroup",
        "providers",
        "agents"
      ],
      "path": "providers.html"
    },
    "exploration": {
      "title": "Exploration Mode",
      "tags": [
        "focusgroup",
        "exploration",
        "security"
      ],
      "path": "exploration.html"
    }
  }
}